<%= form_tag(posts_path, method: :get, id: "search-form") do %>
<%= text_field_tag :search, params[:search], placeholder: "Start searching" %>
<%= submit_tag "Search !" %>
<% end %>

<% if @service_posts.present? || @item_posts.present? || @volunteer_posts.present? %>
  <h2>Here are the search results:</h2>

    <p id="notice"><%= notice %></p>

    <h1>Services </h1>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Category</th>
          <th>Value</th>
          <th>User</th>
          <th>Location</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @service_posts.each do |post| %>
          <tr>
            <td><%= post.title %></td>
            <td><%= post.description %></td>
            <td><%= post.category %></td>
            <td><%= post.value %></td>
            <td><%= post.user.name %></td>
            <td><%= post.location %></td>
            <td><%= link_to 'Show', post %></td>
            <td><%= link_to 'Edit', edit_post_path(post) %></td>
            <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <h1>Items</h1>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Category</th>
          <th>Value</th>
          <th>User</th>
          <th>Location</th>
          <th>Duration</th>
          <th>Time</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @item_posts.each do |post| %>
        <tr>
          <td><%= post.title %></td>
          <td><%= post.description %></td>
          <td><%= post.category %></td>
          <td><%= post.value %></td>
          <td><%= post.user.name %></td>
          <td><%= post.location %></td>
          <td><%= post.duration %></td>
          <td><%= post.time %></td>
          <td><%= link_to 'Show', post %></td>
          <td><%= link_to 'Edit', edit_post_path(post) %></td>
          <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
    <br>

    <h1>Volunteer Opportunities</h1>
    <table>
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Category</th>
          <th>Value</th>
          <th>User</th>
          <th>Location</th>
          <th>Duration</th>
          <th>Time</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @volunteer_posts.each do |post| %>
        <tr>
          <td><%= post.title %></td>
          <td><%= post.description %></td>
          <td><%= post.category %></td>
          <td><%= post.value %></td>
          <td><%= post.user.name %></td>
          <td><%= post.location %></td>
          <td><%= post.duration %></td>
          <td><%= post.time %></td>
          <td><%= link_to 'Show', post %></td>
          <td><%= link_to 'Edit', edit_post_path(post) %></td>
          <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
        <% end %>
      </tbody>
    </table>

    <%= link_to 'New Post', new_post_path %>

<% else %>
  Sorry, nothing found.
<% end %>
